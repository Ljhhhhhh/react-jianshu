{"ast":null,"code":"import _classCallCheck from \"/Users/macbookpro/Documents/www/react-demo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/macbookpro/Documents/www/react-demo/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/macbookpro/Documents/www/react-demo/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/macbookpro/Documents/www/react-demo/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/macbookpro/Documents/www/react-demo/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/macbookpro/Documents/www/react-demo/src/pages/home/index.js\";\nimport React, { PureComponent } from \"react\";\nimport { HomeWrapper, HomeLeft, HomeRight, BackTop } from \"./style\";\nimport Topic from \"./components/Topic\";\nimport Articles from \"./components/Articles\";\nimport Recommend from \"./components/Recommend\";\nimport Writer from \"./components/Writer\";\nimport { connect } from \"react-redux\";\nimport { actionCreators } from \"./store\";\n\nvar Home =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  _inherits(Home, _PureComponent);\n\n  function Home() {\n    _classCallCheck(this, Home);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Home).apply(this, arguments));\n  }\n\n  _createClass(Home, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.handleInputFocus();\n      this.bindEvents();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener(\"scroll\", this.props.changeScrollTopShow);\n    }\n  }, {\n    key: \"handleScrollTop\",\n    value: function handleScrollTop() {\n      window.scrollTo(0, 0);\n    }\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      window.addEventListener(\"scroll\", this.props.changeScrollTopShow);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          topicList = _this$props.topicList,\n          recommendList = _this$props.recommendList,\n          articleList = _this$props.articleList,\n          writerList = _this$props.writerList;\n      return React.createElement(HomeWrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, React.createElement(HomeLeft, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"banner-img\",\n        src: \"https://upload.jianshu.io/admin_banners/web_images/4612/1e4eeb1b277034cca932f5e60e46d14b0629073b.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/1250/h/540\",\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }), React.createElement(Topic, {\n        list: topicList,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }), React.createElement(Articles, {\n        list: articleList,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      })), React.createElement(HomeRight, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(Recommend, {\n        list: recommendList,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }), React.createElement(Writer, {\n        writerList: writerList,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      })), this.props.showScroll ? React.createElement(BackTop, {\n        onClick: this.handleScrollTop,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, \"\\u56DE\\u5230\\u9876\\u90E8\") : null);\n    }\n  }]);\n\n  return Home;\n}(PureComponent);\n\nvar mapState = function mapState(state) {\n  return {\n    topicList: state.getIn([\"home\", \"topicList\"]),\n    recommendList: state.getIn([\"home\", \"recommendList\"]),\n    writerList: state.getIn([\"home\", \"writerList\"]),\n    articleList: state.getIn([\"home\", \"articleList\"]),\n    showScroll: state.getIn([\"home\", \"showScroll\"])\n  };\n};\n\nvar mapDispatch = function mapDispatch(dispatch) {\n  return {\n    handleInputFocus: function handleInputFocus() {\n      dispatch(actionCreators.handleGetData());\n    },\n    changeScrollTopShow: function changeScrollTopShow() {\n      if (document.documentElement.scrollTop > 100) {\n        dispatch(actionCreators.toggleShowScroll(true));\n      } else {\n        dispatch(actionCreators.toggleShowScroll(false));\n      }\n    }\n  };\n};\n\nexport default connect(mapState, mapDispatch)(Home);","map":{"version":3,"sources":["/Users/macbookpro/Documents/www/react-demo/src/pages/home/index.js"],"names":["React","PureComponent","HomeWrapper","HomeLeft","HomeRight","BackTop","Topic","Articles","Recommend","Writer","connect","actionCreators","Home","props","handleInputFocus","bindEvents","window","removeEventListener","changeScrollTopShow","scrollTo","addEventListener","topicList","recommendList","articleList","writerList","showScroll","handleScrollTop","mapState","state","getIn","mapDispatch","dispatch","handleGetData","document","documentElement","scrollTop","toggleShowScroll"],"mappings":"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","sourcesContent":["import React, { PureComponent } from \"react\";\nimport { HomeWrapper, HomeLeft, HomeRight, BackTop } from \"./style\";\nimport Topic from \"./components/Topic\";\nimport Articles from \"./components/Articles\";\nimport Recommend from \"./components/Recommend\";\nimport Writer from \"./components/Writer\";\nimport { connect } from \"react-redux\";\nimport { actionCreators } from \"./store\";\n\nclass Home extends PureComponent {\n  componentDidMount() {\n    this.props.handleInputFocus();\n    this.bindEvents();\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"scroll\", this.props.changeScrollTopShow);\n  }\n\n  handleScrollTop() {\n    window.scrollTo(0, 0);\n  }\n\n  bindEvents() {\n    window.addEventListener(\"scroll\", this.props.changeScrollTopShow);\n  }\n\n  render() {\n    const { topicList, recommendList, articleList, writerList } = this.props;\n\n    return (\n      <HomeWrapper>\n        <HomeLeft>\n          <img\n            className=\"banner-img\"\n            src=\"https://upload.jianshu.io/admin_banners/web_images/4612/1e4eeb1b277034cca932f5e60e46d14b0629073b.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/1250/h/540\"\n            alt=\"\"\n          />\n          <Topic list={topicList} />\n          <Articles list={articleList} />\n        </HomeLeft>\n        <HomeRight>\n          <Recommend list={recommendList} />\n          <Writer writerList={writerList} />\n        </HomeRight>\n        {this.props.showScroll ? (\n          <BackTop onClick={this.handleScrollTop}>回到顶部</BackTop>\n        ) : null}\n      </HomeWrapper>\n    );\n  }\n}\n\nconst mapState = state => {\n  return {\n    topicList: state.getIn([\"home\", \"topicList\"]),\n    recommendList: state.getIn([\"home\", \"recommendList\"]),\n    writerList: state.getIn([\"home\", \"writerList\"]),\n    articleList: state.getIn([\"home\", \"articleList\"]),\n    showScroll: state.getIn([\"home\", \"showScroll\"])\n  };\n};\n\nconst mapDispatch = dispatch => {\n  return {\n    handleInputFocus() {\n      dispatch(actionCreators.handleGetData());\n    },\n    changeScrollTopShow() {\n      if (document.documentElement.scrollTop > 100) {\n        dispatch(actionCreators.toggleShowScroll(true));\n      } else {\n        dispatch(actionCreators.toggleShowScroll(false));\n      }\n    }\n  };\n};\n\nexport default connect(\n  mapState,\n  mapDispatch\n)(Home);\n"]},"metadata":{},"sourceType":"module"}