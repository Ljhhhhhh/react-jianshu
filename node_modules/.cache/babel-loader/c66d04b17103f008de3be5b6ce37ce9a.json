{"ast":null,"code":"import _classCallCheck from \"/Users/macbookpro/Documents/www/react-demo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/macbookpro/Documents/www/react-demo/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/macbookpro/Documents/www/react-demo/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/macbookpro/Documents/www/react-demo/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/macbookpro/Documents/www/react-demo/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/macbookpro/Documents/www/react-demo/src/pages/home/components/Writer.js\";\nimport React, { Component } from \"react\";\nimport { WriterWrapper, WriterItem, WriterHeader } from \"../style\";\nimport { connect } from \"react-redux\";\nimport { actionCreators } from \"../store\";\n\nvar Writer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Writer, _Component);\n\n  function Writer() {\n    _classCallCheck(this, Writer);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Writer).apply(this, arguments));\n  }\n\n  _createClass(Writer, [{\n    key: \"render\",\n    // componentDidMount() {\n    //   this.props.getWriterList();\n    // }\n    value: function render() {\n      var _this$props = this.props,\n          writerList = _this$props.writerList,\n          writerPage = _this$props.writerPage,\n          changeList = _this$props.changeList;\n      var currentList = [];\n      var pageSize = 5;\n      var jsWirterList = writerList.toJS();\n      var writeTotal = jsWirterList.length;\n\n      if (jsWirterList.length) {\n        for (var i = (writerPage - 1) * pageSize; i < writerPage * pageSize; i++) {\n          currentList.push(React.createElement(WriterItem, {\n            key: jsWirterList[i].id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 23\n            },\n            __self: this\n          }, React.createElement(\"img\", {\n            src: jsWirterList[i].avatar_source,\n            alt: \"\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 24\n            },\n            __self: this\n          }), React.createElement(\"div\", {\n            className: \"info\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 25\n            },\n            __self: this\n          }, React.createElement(\"h5\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 26\n            },\n            __self: this\n          }, \" \", jsWirterList[i].nickname, \" \"), \" \", React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 27\n            },\n            __self: this\n          }, \" \", jsWirterList[i].total_likes_count, \"\\u559C\\u6B22\", \" \"), \" \"), \" \"));\n        }\n      }\n\n      return React.createElement(WriterWrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, React.createElement(WriterHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, \" \\u63A8\\u8350\\u4F5C\\u8005 \"), \" \", React.createElement(\"span\", {\n        className: \"btn\",\n        onClick: function onClick() {\n          changeList(writerPage, writeTotal, pageSize);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, \"\\u6362\\u4E00\\u6279\", \" \"), \" \"), \" \", currentList, \" \");\n    }\n  }]);\n\n  return Writer;\n}(Component);\n\nvar mapState = function mapState(state) {\n  return {\n    // wirterList: state.getIn([\"home\", \"writerList\"]),\n    writerPage: state.getIn([\"home\", \"writerPage\"])\n  };\n};\n\nvar mapDispatch = function mapDispatch(dispatch) {\n  return {\n    changeList: function changeList(page, total, pageSize) {\n      if (page * pageSize >= total) {\n        dispatch(actionCreators.handleChangePage(1));\n      } else {\n        dispatch(actionCreators.handleChangePage(page + 1));\n      }\n    },\n    getWriterList: function getWriterList() {\n      dispatch(actionCreators.getWriterList());\n    }\n  };\n};\n\nexport default connect(mapState, mapDispatch)(Writer);","map":{"version":3,"sources":["/Users/macbookpro/Documents/www/react-demo/src/pages/home/components/Writer.js"],"names":["React","Component","WriterWrapper","WriterItem","WriterHeader","connect","actionCreators","Writer","props","writerList","writerPage","changeList","currentList","pageSize","jsWirterList","toJS","writeTotal","length","i","push","id","avatar_source","nickname","total_likes_count","mapState","state","getIn","mapDispatch","dispatch","page","total","handleChangePage","getWriterList"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { WriterWrapper, WriterItem, WriterHeader } from \"../style\";\nimport { connect } from \"react-redux\";\nimport { actionCreators } from \"../store\";\n\nclass Writer extends Component {\n  // componentDidMount() {\n  //   this.props.getWriterList();\n  // }\n  render() {\n    const { writerList, writerPage, changeList } = this.props;\n    let currentList = [];\n    const pageSize = 5;\n    const jsWirterList = writerList.toJS();\n    const writeTotal = jsWirterList.length;\n    if (jsWirterList.length) {\n      for (\n        let i = (writerPage - 1) * pageSize;\n        i < writerPage * pageSize;\n        i++\n      ) {\n        currentList.push(\n          <WriterItem key={jsWirterList[i].id}>\n            <img src={jsWirterList[i].avatar_source} alt=\"\" />\n            <div className=\"info\">\n              <h5> {jsWirterList[i].nickname} </h5>{\" \"}\n              <p>\n                {\" \"}\n                {jsWirterList[i].total_likes_count}\n                喜欢{\" \"}\n              </p>{\" \"}\n            </div>{\" \"}\n          </WriterItem>\n        );\n      }\n    }\n    return (\n      <WriterWrapper>\n        <WriterHeader>\n          <span> 推荐作者 </span>{\" \"}\n          <span\n            className=\"btn\"\n            onClick={() => {\n              changeList(writerPage, writeTotal, pageSize);\n            }}>\n            换一批{\" \"}\n          </span>{\" \"}\n        </WriterHeader>{\" \"}\n        {currentList}{\" \"}\n      </WriterWrapper>\n    );\n  }\n}\n\nconst mapState = state => ({\n  // wirterList: state.getIn([\"home\", \"writerList\"]),\n  writerPage: state.getIn([\"home\", \"writerPage\"])\n});\n\nconst mapDispatch = dispatch => ({\n  changeList(page, total, pageSize) {\n    if (page * pageSize >= total) {\n      dispatch(actionCreators.handleChangePage(1));\n    } else {\n      dispatch(actionCreators.handleChangePage(page + 1));\n    }\n  },\n  getWriterList() {\n    dispatch(actionCreators.getWriterList());\n  }\n});\n\nexport default connect(\n  mapState,\n  mapDispatch\n)(Writer);\n"]},"metadata":{},"sourceType":"module"}