{"ast":null,"code":"import _classCallCheck from \"/Users/macbookpro/Documents/www/react-demo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/macbookpro/Documents/www/react-demo/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/macbookpro/Documents/www/react-demo/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/macbookpro/Documents/www/react-demo/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/macbookpro/Documents/www/react-demo/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/macbookpro/Documents/www/react-demo/src/pages/home/components/Writer.js\";\nimport React, { Component } from \"react\";\nimport { WriterWrapper, WriterItem, WriterHeader } from \"../style\";\nimport { connect } from \"react-redux\";\nimport { actionCreators } from \"../store\";\n\nvar Writer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Writer, _Component);\n\n  function Writer() {\n    _classCallCheck(this, Writer);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Writer).apply(this, arguments));\n  }\n\n  _createClass(Writer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.getWriterList();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          wirterList = _this$props.wirterList,\n          writerPage = _this$props.writerPage,\n          changeList = _this$props.changeList;\n      var writeTotal = wirterList.length;\n      var currentList = [];\n      var pageSize = 5;\n      var jsWirterList = wirterList.toJS();\n\n      if (jsWirterList.length) {\n        for (var i = (writerPage - 1) * pageSize; i < writerPage * pageSize; i++) {\n          currentList.push(React.createElement(WriterItem, {\n            key: jsWirterList[i].id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 23\n            },\n            __self: this\n          }, React.createElement(\"img\", {\n            src: jsWirterList[i].avatar_source,\n            alt: \"\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 24\n            },\n            __self: this\n          }), React.createElement(\"div\", {\n            className: \"info\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 25\n            },\n            __self: this\n          }, React.createElement(\"h5\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 26\n            },\n            __self: this\n          }, jsWirterList[i].nickname), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 27\n            },\n            __self: this\n          }, jsWirterList[i].total_likes_count, \"\\u559C\\u6B22\"))));\n        }\n      }\n\n      return React.createElement(WriterWrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, React.createElement(WriterHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, \"\\u63A8\\u8350\\u4F5C\\u8005\"), React.createElement(\"span\", {\n        className: \"btn\",\n        onClick: function onClick() {\n          changeList(writerPage, writeTotal, pageSize);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, \"\\u6362\\u4E00\\u6279\")), currentList);\n    }\n  }]);\n\n  return Writer;\n}(Component);\n\nvar mapState = function mapState(state) {\n  return {\n    wirterList: state.getIn([\"home\", \"writerList\"]),\n    writerPage: state.getIn([\"home\", \"writerPage\"])\n  };\n};\n\nvar mapDispatch = function mapDispatch(dispatch) {\n  return {\n    changeList: function changeList(page, total, pageSize) {\n      if (page * pageSize >= total) {\n        dispatch(actionCreators.handleChangePage(1));\n      } else {\n        dispatch(actionCreators.handleChangePage(page + 1));\n      }\n    },\n    getWriterList: function getWriterList() {\n      dispatch(actionCreators.getWriterList());\n    }\n  };\n};\n\nexport default connect(mapState, mapDispatch)(Writer);","map":{"version":3,"sources":["/Users/macbookpro/Documents/www/react-demo/src/pages/home/components/Writer.js"],"names":["React","Component","WriterWrapper","WriterItem","WriterHeader","connect","actionCreators","Writer","props","getWriterList","wirterList","writerPage","changeList","writeTotal","length","currentList","pageSize","jsWirterList","toJS","i","push","id","avatar_source","nickname","total_likes_count","mapState","state","getIn","mapDispatch","dispatch","page","total","handleChangePage"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { WriterWrapper, WriterItem, WriterHeader } from \"../style\";\nimport { connect } from \"react-redux\";\nimport { actionCreators } from \"../store\";\n\nclass Writer extends Component {\n  componentDidMount() {\n    this.props.getWriterList();\n  }\n  render() {\n    const { wirterList, writerPage, changeList } = this.props;\n    const writeTotal = wirterList.length;\n    let currentList = [];\n    const pageSize = 5;\n    const jsWirterList = wirterList.toJS();\n    if (jsWirterList.length) {\n      for (\n        let i = (writerPage - 1) * pageSize;\n        i < writerPage * pageSize;\n        i++\n      ) {\n        currentList.push(\n          <WriterItem key={jsWirterList[i].id}>\n            <img src={jsWirterList[i].avatar_source} alt=\"\" />\n            <div className=\"info\">\n              <h5>{jsWirterList[i].nickname}</h5>\n              <p>{jsWirterList[i].total_likes_count}喜欢</p>\n            </div>\n          </WriterItem>\n        );\n      }\n    }\n    return (\n      <WriterWrapper>\n        <WriterHeader>\n          <span>推荐作者</span>\n          <span\n            className=\"btn\"\n            onClick={() => {\n              changeList(writerPage, writeTotal, pageSize);\n            }}>\n            换一批\n          </span>\n        </WriterHeader>\n        {currentList}\n      </WriterWrapper>\n    );\n  }\n}\n\nconst mapState = state => ({\n  wirterList: state.getIn([\"home\", \"writerList\"]),\n  writerPage: state.getIn([\"home\", \"writerPage\"])\n});\n\nconst mapDispatch = dispatch => ({\n  changeList(page, total, pageSize) {\n    if (page * pageSize >= total) {\n      dispatch(actionCreators.handleChangePage(1));\n    } else {\n      dispatch(actionCreators.handleChangePage(page + 1));\n    }\n  },\n  getWriterList() {\n    dispatch(actionCreators.getWriterList());\n  }\n});\n\nexport default connect(\n  mapState,\n  mapDispatch\n)(Writer);\n"]},"metadata":{},"sourceType":"module"}