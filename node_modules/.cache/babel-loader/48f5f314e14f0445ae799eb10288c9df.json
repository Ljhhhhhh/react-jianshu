{"ast":null,"code":"import _classCallCheck from \"/Users/macbookpro/Documents/www/react-demo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/macbookpro/Documents/www/react-demo/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/macbookpro/Documents/www/react-demo/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/macbookpro/Documents/www/react-demo/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/macbookpro/Documents/www/react-demo/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/macbookpro/Documents/www/react-demo/src/common/header/index.js\";\nimport React, { Component } from \"react\";\nimport { CSSTransition } from \"react-transition-group\";\nimport { HeaderWrapper, Logo, Nav, NavItem, NavSearch, Addition, Button, SearchWrapper, SearchInfo, SearchInfoTitle, SearchInfoSwitch, SearchInfoItem, SearchInfoList } from \"./style\";\nimport { connect } from \"react-redux\";\nimport { actionCreators } from \"./store\";\nimport { actionCreators as loginActionCreators } from \"../../pages/login/store\";\nimport { Link } from \"react-router-dom\";\n\nvar Header =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Header, _Component);\n\n  function Header() {\n    _classCallCheck(this, Header);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Header).apply(this, arguments));\n  }\n\n  _createClass(Header, [{\n    key: \"getListArea\",\n    value: function getListArea() {\n      var _this = this;\n\n      var _this$props = this.props,\n          focused = _this$props.focused,\n          list = _this$props.list,\n          page = _this$props.page,\n          totalPage = _this$props.totalPage,\n          mouseIn = _this$props.mouseIn,\n          handleMouseEnter = _this$props.handleMouseEnter,\n          handleMouseLeave = _this$props.handleMouseLeave,\n          handleChangePage = _this$props.handleChangePage;\n      var jsList = list.toJS();\n      var pageList = [];\n\n      if (jsList.length) {\n        for (var i = (page - 1) * 10; i < page * 10; i++) {\n          pageList.push(React.createElement(SearchInfoItem, {\n            key: jsList[i],\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 39\n            },\n            __self: this\n          }, jsList[i]));\n        }\n      }\n\n      if (focused || mouseIn) {\n        return React.createElement(SearchInfo, {\n          onMouseEnter: handleMouseEnter,\n          onMouseLeave: handleMouseLeave,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45\n          },\n          __self: this\n        }, React.createElement(SearchInfoTitle, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        }, \"\\u70ED\\u95E8\\u641C\\u7D22\", React.createElement(SearchInfoSwitch, {\n          onClick: function onClick() {\n            return handleChangePage(page, totalPage, _this.spinIcon);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          ref: function ref(icon) {\n            _this.spinIcon = icon;\n          },\n          className: \"iconfont spin\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, \"\\uE851\"), \"\\u6362\\u4E00\\u6279\")), React.createElement(SearchInfoList, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }, pageList));\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          focused = _this$props2.focused,\n          handleInputFocus = _this$props2.handleInputFocus,\n          handleInputBlur = _this$props2.handleInputBlur,\n          list = _this$props2.list,\n          login = _this$props2.login,\n          logout = _this$props2.logout;\n      return React.createElement(HeaderWrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(Logo, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      })), React.createElement(Nav, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(NavItem, {\n        className: \"left active\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \"\\u9996\\u9875\"), React.createElement(NavItem, {\n        className: \"left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"\\u4E0B\\u8F7DApp\"), login ? React.createElement(NavItem, {\n        className: \"right\",\n        onClick: logout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"\\u9000\\u51FA\") : React.createElement(Link, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(NavItem, {\n        className: \"right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, \"\\u767B\\u5F55\")), React.createElement(NavItem, {\n        className: \"right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"iconfont\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"\\uE636\")), React.createElement(SearchWrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(CSSTransition, {\n        in: focused,\n        timeout: 200,\n        classNames: \"slide\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(NavSearch, {\n        className: focused ? \"focused\" : \"\",\n        onFocus: function onFocus() {\n          return handleInputFocus(list);\n        },\n        onBlur: handleInputBlur,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      })), React.createElement(\"i\", {\n        className: focused ? \" focused iconfont zoom\" : \"iconfont zoom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \"\\uE614\"), this.getListArea(focused))), React.createElement(Addition, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/write\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(Button, {\n        className: \"writting\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"iconfont\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"\\uE615\"), \"\\u5199\\u6587\\u7AE0\")), React.createElement(Button, {\n        className: \"reg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \"\\u6CE8\\u518C\")));\n    }\n  }]);\n\n  return Header;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    focused: state.getIn([\"header\", \"focused\"]),\n    // focused: state.get(\"header\").get(\"focused\")\n    list: state.getIn([\"header\", \"list\"]),\n    page: state.getIn([\"header\", \"page\"]),\n    totalPage: state.getIn([\"header\", \"totalPage\"]),\n    mouseIn: state.getIn([\"header\", \"mouseIn\"]),\n    login: state.getIn([\"login\", \"login\"])\n  };\n};\n\nvar mapDispathToProps = function mapDispathToProps(dispatch) {\n  return {\n    handleInputFocus: function handleInputFocus(list) {\n      !list.size && dispatch(actionCreators.getList());\n      dispatch(actionCreators.InputFocusAction());\n    },\n    handleInputBlur: function handleInputBlur() {\n      var action = actionCreators.InputBlurAction();\n      dispatch(action);\n    },\n    handleMouseEnter: function handleMouseEnter() {\n      dispatch(actionCreators.mouseEnter());\n    },\n    handleMouseLeave: function handleMouseLeave() {\n      dispatch(actionCreators.mouseLeave());\n    },\n    handleChangePage: function handleChangePage(page, totalPage, spinIcon) {\n      var originAngle = spinIcon.style.transform.replace(/[^0-9]/gi, \"\");\n\n      if (originAngle) {\n        originAngle = parseInt(originAngle, 10);\n      } else {\n        originAngle = 0;\n      }\n\n      spinIcon.style.transform = \"rotate(\".concat(originAngle + 360, \"deg)\");\n\n      if (page < totalPage) {\n        dispatch(actionCreators.changePage(page + 1));\n      } else {\n        dispatch(actionCreators.changePage(1));\n      }\n    },\n    logout: function logout() {\n      dispatch(loginActionCreators.logout());\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispathToProps)(Header);","map":{"version":3,"sources":["/Users/macbookpro/Documents/www/react-demo/src/common/header/index.js"],"names":["React","Component","CSSTransition","HeaderWrapper","Logo","Nav","NavItem","NavSearch","Addition","Button","SearchWrapper","SearchInfo","SearchInfoTitle","SearchInfoSwitch","SearchInfoItem","SearchInfoList","connect","actionCreators","loginActionCreators","Link","Header","props","focused","list","page","totalPage","mouseIn","handleMouseEnter","handleMouseLeave","handleChangePage","jsList","toJS","pageList","length","i","push","spinIcon","icon","handleInputFocus","handleInputBlur","login","logout","getListArea","mapStateToProps","state","getIn","mapDispathToProps","dispatch","size","getList","InputFocusAction","action","InputBlurAction","mouseEnter","mouseLeave","originAngle","style","transform","replace","parseInt","changePage"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { CSSTransition } from \"react-transition-group\";\nimport {\n  HeaderWrapper,\n  Logo,\n  Nav,\n  NavItem,\n  NavSearch,\n  Addition,\n  Button,\n  SearchWrapper,\n  SearchInfo,\n  SearchInfoTitle,\n  SearchInfoSwitch,\n  SearchInfoItem,\n  SearchInfoList\n} from \"./style\";\nimport { connect } from \"react-redux\";\nimport { actionCreators } from \"./store\";\nimport { actionCreators as loginActionCreators } from \"../../pages/login/store\";\nimport { Link } from \"react-router-dom\";\nclass Header extends Component {\n  getListArea() {\n    const {\n      focused,\n      list,\n      page,\n      totalPage,\n      mouseIn,\n      handleMouseEnter,\n      handleMouseLeave,\n      handleChangePage\n    } = this.props;\n    const jsList = list.toJS();\n    const pageList = [];\n    if (jsList.length) {\n      for (let i = (page - 1) * 10; i < page * 10; i++) {\n        pageList.push(\n          <SearchInfoItem key={jsList[i]}>{jsList[i]}</SearchInfoItem>\n        );\n      }\n    }\n    if (focused || mouseIn) {\n      return (\n        <SearchInfo\n          onMouseEnter={handleMouseEnter}\n          onMouseLeave={handleMouseLeave}>\n          <SearchInfoTitle>\n            热门搜索\n            <SearchInfoSwitch\n              onClick={() => handleChangePage(page, totalPage, this.spinIcon)}>\n              <i\n                ref={icon => {\n                  this.spinIcon = icon;\n                }}\n                className=\"iconfont spin\">\n                &#xe851;\n              </i>\n              换一批\n            </SearchInfoSwitch>\n          </SearchInfoTitle>\n          <SearchInfoList>{pageList}</SearchInfoList>\n        </SearchInfo>\n      );\n    } else {\n      return null;\n    }\n  }\n\n  render() {\n    const {\n      focused,\n      handleInputFocus,\n      handleInputBlur,\n      list,\n      login,\n      logout\n    } = this.props;\n    return (\n      <HeaderWrapper>\n        <Link to=\"/\">\n          <Logo />\n        </Link>\n        <Nav>\n          <NavItem className=\"left active\">首页</NavItem>\n          <NavItem className=\"left\">下载App</NavItem>\n          {login ? (\n            <NavItem className=\"right\" onClick={logout}>\n              退出\n            </NavItem>\n          ) : (\n            <Link to=\"/login\">\n              <NavItem className=\"right\">登录</NavItem>\n            </Link>\n          )}\n          <NavItem className=\"right\">\n            <i className=\"iconfont\">&#xe636;</i>\n          </NavItem>\n          <SearchWrapper>\n            <CSSTransition in={focused} timeout={200} classNames=\"slide\">\n              <NavSearch\n                className={focused ? \"focused\" : \"\"}\n                onFocus={() => handleInputFocus(list)}\n                onBlur={handleInputBlur}\n              />\n            </CSSTransition>\n            <i className={focused ? \" focused iconfont zoom\" : \"iconfont zoom\"}>\n              &#xe614;\n            </i>\n            {this.getListArea(focused)}\n          </SearchWrapper>\n        </Nav>\n        <Addition>\n          <Link to=\"/write\">\n            <Button className=\"writting\">\n              <i className=\"iconfont\">&#xe615;</i>\n              写文章\n            </Button>\n          </Link>\n          <Button className=\"reg\">注册</Button>\n        </Addition>\n      </HeaderWrapper>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    focused: state.getIn([\"header\", \"focused\"]),\n    // focused: state.get(\"header\").get(\"focused\")\n    list: state.getIn([\"header\", \"list\"]),\n    page: state.getIn([\"header\", \"page\"]),\n    totalPage: state.getIn([\"header\", \"totalPage\"]),\n    mouseIn: state.getIn([\"header\", \"mouseIn\"]),\n    login: state.getIn([\"login\", \"login\"])\n  };\n};\n\nconst mapDispathToProps = dispatch => {\n  return {\n    handleInputFocus(list) {\n      !list.size && dispatch(actionCreators.getList());\n      dispatch(actionCreators.InputFocusAction());\n    },\n    handleInputBlur() {\n      const action = actionCreators.InputBlurAction();\n      dispatch(action);\n    },\n    handleMouseEnter() {\n      dispatch(actionCreators.mouseEnter());\n    },\n    handleMouseLeave() {\n      dispatch(actionCreators.mouseLeave());\n    },\n    handleChangePage(page, totalPage, spinIcon) {\n      let originAngle = spinIcon.style.transform.replace(/[^0-9]/gi, \"\");\n      if (originAngle) {\n        originAngle = parseInt(originAngle, 10);\n      } else {\n        originAngle = 0;\n      }\n      spinIcon.style.transform = `rotate(${originAngle + 360}deg)`;\n      if (page < totalPage) {\n        dispatch(actionCreators.changePage(page + 1));\n      } else {\n        dispatch(actionCreators.changePage(1));\n      }\n    },\n    logout() {\n      dispatch(loginActionCreators.logout());\n    }\n  };\n};\nexport default connect(\n  mapStateToProps,\n  mapDispathToProps\n)(Header);\n"]},"metadata":{},"sourceType":"module"}