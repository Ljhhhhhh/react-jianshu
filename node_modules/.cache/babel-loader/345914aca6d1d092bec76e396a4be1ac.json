{"ast":null,"code":"import _classCallCheck from \"/Users/macbookpro/Documents/www/react-demo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/macbookpro/Documents/www/react-demo/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/macbookpro/Documents/www/react-demo/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/macbookpro/Documents/www/react-demo/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/macbookpro/Documents/www/react-demo/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/macbookpro/Documents/www/react-demo/src/pages/home/components/Writer.js\";\nimport React, { Component } from \"react\";\nimport { WriterWrapper, WriterItem, WriterHeader } from \"../style\";\nimport { connect } from \"react-redux\";\nimport { actionCreators } from \"../store\";\n\nvar Writer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Writer, _Component);\n\n  function Writer() {\n    _classCallCheck(this, Writer);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Writer).apply(this, arguments));\n  }\n\n  _createClass(Writer, [{\n    key: \"render\",\n    // componentDidMount() {\n    //   this.props.getWriterList();\n    // }\n    value: function render() {\n      var _this$props = this.props,\n          wirterList = _this$props.wirterList,\n          writerPage = _this$props.writerPage,\n          changeList = _this$props.changeList;\n      var currentList = [];\n      var pageSize = 5;\n      var jsWirterList = wirterList.toJS();\n      var writeTotal = jsWirterList.length;\n\n      if (jsWirterList.length) {\n        for (var i = (writerPage - 1) * pageSize; i < writerPage * pageSize; i++) {\n          currentList.push(React.createElement(WriterItem, {\n            key: jsWirterList[i].id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 34\n            },\n            __self: this\n          }, React.createElement(\"img\", {\n            src: jsWirterList[i].avatar_source,\n            alt: \"\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 38\n            },\n            __self: this\n          }), React.createElement(\"div\", {\n            className: \"info\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 43\n            },\n            __self: this\n          }, React.createElement(\"h5\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 45\n            },\n            __self: this\n          }, \" \", jsWirterList[i].nickname, \" \"), \" \", React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 48\n            },\n            __self: this\n          }, \" \", jsWirterList[i].total_likes_count, \"\\u559C\\u6B22 \"), \" \"), \" \"));\n        }\n      }\n\n      return React.createElement(WriterWrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(WriterHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \" \\u63A8\\u8350\\u4F5C\\u8005 \"), \" \", React.createElement(\"span\", {\n        className: \"btn\",\n        onClick: function onClick() {\n          changeList(writerPage, writeTotal, pageSize);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"\\u6362\\u4E00\\u6279 \"), \" \"), \" \", currentList, \" \");\n    }\n  }]);\n\n  return Writer;\n}(Component);\n\nvar mapState = function mapState(state) {\n  return {\n    wirterList: state.getIn([\"home\", \"writerList\"]),\n    writerPage: state.getIn([\"home\", \"writerPage\"])\n  };\n};\n\nvar mapDispatch = function mapDispatch(dispatch) {\n  return {\n    changeList: function changeList(page, total, pageSize) {\n      if (page * pageSize >= total) {\n        dispatch(actionCreators.handleChangePage(1));\n      } else {\n        dispatch(actionCreators.handleChangePage(page + 1));\n      }\n    },\n    getWriterList: function getWriterList() {\n      dispatch(actionCreators.getWriterList());\n    }\n  };\n};\n\nexport default connect(mapState, mapDispatch)(Writer);","map":{"version":3,"sources":["/Users/macbookpro/Documents/www/react-demo/src/pages/home/components/Writer.js"],"names":["React","Component","WriterWrapper","WriterItem","WriterHeader","connect","actionCreators","Writer","props","wirterList","writerPage","changeList","currentList","pageSize","jsWirterList","toJS","writeTotal","length","i","push","id","avatar_source","nickname","total_likes_count","mapState","state","getIn","mapDispatch","dispatch","page","total","handleChangePage","getWriterList"],"mappings":"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","sourcesContent":["import React, {\n  Component\n} from \"react\";\nimport {\n  WriterWrapper,\n  WriterItem,\n  WriterHeader\n} from \"../style\";\nimport {\n  connect\n} from \"react-redux\";\nimport {\n  actionCreators\n} from \"../store\";\n\nclass Writer extends Component {\n  // componentDidMount() {\n  //   this.props.getWriterList();\n  // }\n  render() {\n    const {\n      wirterList,\n      writerPage,\n      changeList\n    } = this.props;\n    let currentList = [];\n    const pageSize = 5;\n    const jsWirterList = wirterList.toJS();\n    const writeTotal = jsWirterList.length;\n    if (jsWirterList.length) {\n      for (\n        let i = (writerPage - 1) * pageSize; i < writerPage * pageSize; i++\n      ) {\n        currentList.push( <\n          WriterItem key = {\n            jsWirterList[i].id\n          } >\n          <\n          img src = {\n            jsWirterList[i].avatar_source\n          }\n          alt = \"\" / >\n          <\n          div className = \"info\" >\n          <\n          h5 > {\n            jsWirterList[i].nickname\n          } < /h5> <\n          p > {\n            jsWirterList[i].total_likes_count\n          }\n          喜欢 < /p> <\n          /div> <\n          /WriterItem>\n        );\n      }\n    }\n    return ( <\n      WriterWrapper >\n      <\n      WriterHeader >\n      <\n      span > 推荐作者 < /span> <\n      span className = \"btn\"\n      onClick = {\n        () => {\n          changeList(writerPage, writeTotal, pageSize);\n        }\n      } >\n      换一批 <\n      /span> <\n      /WriterHeader> {\n        currentList\n      } <\n      /WriterWrapper>\n    );\n  }\n}\n\nconst mapState = state => ({\n  wirterList: state.getIn([\"home\", \"writerList\"]),\n  writerPage: state.getIn([\"home\", \"writerPage\"])\n});\n\nconst mapDispatch = dispatch => ({\n  changeList(page, total, pageSize) {\n    if (page * pageSize >= total) {\n      dispatch(actionCreators.handleChangePage(1));\n    } else {\n      dispatch(actionCreators.handleChangePage(page + 1));\n    }\n  },\n  getWriterList() {\n    dispatch(actionCreators.getWriterList());\n  }\n});\n\nexport default connect(\n  mapState,\n  mapDispatch\n)(Writer);"]},"metadata":{},"sourceType":"module"}